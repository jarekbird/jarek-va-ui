# TASK-22.4: Add tests for `src/api/tasks.ts` - `createTask` function

**Section**: 4. Unit Tests for Untested API Clients (Phase 2B)
**Subsection**: 4.3 Tasks API Client
**Task ID**: TASK-22.4
**Parent Task**: TASK-22
**Order**: 4 of 4

## Description

This task creates comprehensive unit tests for the `createTask` function in the `src/api/tasks.ts` API client module. This function creates a new task with a prompt.

The tests will verify:
- Successful JSON responses
- Request body format
- Error responses

## Current State

- Test file should exist (from TASK-22.1)
- `createTask` function exists in `src/api/tasks.ts`
- No tests currently exist for this function

**Important**: This task should be executed after TASK-22.1 is complete.

## Checklist

### Implementation Steps

- [ ] Step 1: Write tests for successful responses
  - [ ] Test: Successful JSON response returns created task
  - [ ] Test: Request body includes `prompt` field
  - [ ] Test: Created task structure is correct

- [ ] Step 2: Write tests for error responses
  - [ ] Test: Error responses (JSON and non-JSON) produce meaningful errors
  - [ ] Test: Error messages are clear
  - [ ] Test: 4xx errors are handled
  - [ ] Test: 5xx errors are handled

### Testing

- [ ] Write all test cases for `createTask`
- [ ] Use MSW to mock API responses
- [ ] Run tests and verify all pass
- [ ] Run full test suite: `npm test`
- [ ] Check test coverage

## Related Tasks

- Parent: TASK-22
- Previous: TASK-22.3
- Next: TASK-23

## Definition of Done

### Task Type: TESTING TASK

**Definition of Done**: 

1. **Tests written**: All `createTask` tests written
2. **Tests pass**: All tests pass
3. **Coverage meets requirements**: tasks.ts module has adequate test coverage
4. **Code committed and pushed**: Commit message: `test: add tests for createTask function`
5. **User Story**: As a developer, I want tests for `createTask` so that I can verify it works correctly
6. **Automated Tests**: All tests written and passing

**Tests are written, all tests pass, and test coverage meets project requirements**
