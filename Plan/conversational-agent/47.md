# Prepare Observability and Logging for Production

## Scope
`elevenlabs-agent`, `cursor-runner`, `jarek-va-ui`.

## Subtasks
- Standardize log messages for key flows (session registration, webhook receipt, callback success/failure).
- Optionally add basic metrics (counts of tasks started/completed, failures).
- Provide clear log guidance in README for troubleshooting.

## Desired Outcomes

### Primary Outcomes
1. **Standardized Logging**: Consistent log format and messages across all services for easy debugging.

2. **Key Flow Visibility**: All critical flows (session registration, webhooks, callbacks) logged with appropriate detail.

3. **Metrics Collection**: Basic metrics enable monitoring of system health and usage.

4. **Troubleshooting Guide**: Clear documentation helps developers debug issues quickly.

### Success Criteria
- Log messages standardized
- Key flows logged
- Metrics collected (if implemented)
- README updated with logging guide
- Log format consistent
- Appropriate log levels used
- No sensitive data logged

## User Stories

### As a Developer
- **Story 1**: I want standardized logs so that I can debug issues quickly.
- **Story 2**: I want clear log guidance so that I know what to look for when troubleshooting.

### As a DevOps Engineer
- **Story 3**: I want metrics so that I can monitor system health.

## Suggested Automated Tests

### Logging Tests
1. **Log Format Tests**:
   ```typescript
   describe('Logging', () => {
     it('logs session registration', () => {
       const logSpy = jest.spyOn(console, 'log');
       // Trigger session registration
       expect(logSpy).toHaveBeenCalledWith(
         expect.stringContaining('Session registered')
       );
     });
   });
   ```

## Inherent Risks

### Medium Risk
1. **Log Volume**:
   - **Risk**: Too much logging causing performance issues
   - **Mitigation**: Appropriate log levels, structured logging, log rotation

2. **Sensitive Data Logging**:
   - **Risk**: Sensitive data accidentally logged
   - **Mitigation**: Sanitize logs, review log statements, security audit

### Low Risk
3. **Log Format Inconsistency**:
   - **Risk**: Different log formats making parsing difficult
   - **Mitigation**: Standardize format, use structured logging, documentation
