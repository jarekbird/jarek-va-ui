# Create Dashboard Layout Skeleton

## Scope
`jarek-va-ui`.

## Subtasks
- Create `Dashboard.tsx` that lays out three regions:
  - Upper left: placeholder for the voice indicator.
  - Lower left: placeholder for the agent chat panel.
  - Right side: placeholder for the note-taking panel.
- Create initial component shells:
  - `VoiceIndicator.tsx` (static circle, no live state yet).
  - `AgentChatPanel.tsx` (wraps `AgentConversationListView` / `AgentConversationDetailView` or a simplified stub).
  - `NoteTakingPanel.tsx` (wraps existing note-taking list/detail views).
- Implement responsive CSS (grid/flex) so that on desktop the three regions match the target layout, and on mobile they stack vertically.
- Add a temporary Dashboard route in `App.tsx` guarded by `VITE_ELEVENLABS_AGENT_ENABLED`, even before voice wiring is complete.

## Desired Outcomes

### Primary Outcomes
1. **Dashboard Layout Structure**: Three-section layout (voice indicator upper left, agent chat lower left, note-taking right) implemented with proper CSS Grid/Flexbox.

2. **Component Shells**: All three panel components created as shells that can be progressively enhanced with functionality.

3. **Responsive Design**: Layout adapts correctly - desktop shows three sections side-by-side, mobile stacks vertically.

4. **Route Integration**: Dashboard route accessible when feature flag is enabled, ready for progressive enhancement.

5. **Visual Foundation**: Basic styling in place matching the design system, ready for voice indicator animations and content integration.

### Success Criteria
- Dashboard component renders with three regions
- VoiceIndicator component exists (static circle)
- AgentChatPanel component exists (can wrap existing views)
- NoteTakingPanel component exists (can wrap existing views)
- Responsive layout works (desktop: side-by-side, mobile: stacked)
- Dashboard route accessible when feature enabled
- Layout matches design system
- No layout regressions on existing views
- Tests cover layout structure

## User Stories

### As a User
- **Story 1**: I want to see all three sections (voice, agent chat, note-taking) on one page so that I have a unified view of my interactions.

### As a Developer
- **Story 2**: I want a Dashboard layout skeleton so that I can progressively add functionality without breaking the layout.
- **Story 3**: I want responsive design so that the Dashboard works on all devices.

## Suggested Automated Tests

### Component Tests
1. **Dashboard Layout Tests**:
   ```typescript
   describe('Dashboard', () => {
     it('renders three regions', () => {
       render(<Dashboard />);
       expect(screen.getByTestId('voice-indicator')).toBeInTheDocument();
       expect(screen.getByTestId('agent-chat-panel')).toBeInTheDocument();
       expect(screen.getByTestId('note-taking-panel')).toBeInTheDocument();
     });
     
     it('applies correct grid layout on desktop', () => {
       // Test desktop layout
     });
     
     it('stacks vertically on mobile', () => {
       // Test mobile layout with media query
     });
   });
   ```

2. **Component Shell Tests**:
   ```typescript
   describe('VoiceIndicator', () => {
     it('renders static circle', () => {
       render(<VoiceIndicator status="idle" />);
       expect(screen.getByRole('status')).toBeInTheDocument();
     });
   });
   
   describe('AgentChatPanel', () => {
     it('renders panel container', () => {
       render(<AgentChatPanel />);
       expect(screen.getByTestId('agent-chat-panel')).toBeInTheDocument();
     });
   });
   
   describe('NoteTakingPanel', () => {
     it('renders panel container', () => {
       render(<NoteTakingPanel />);
       expect(screen.getByTestId('note-taking-panel')).toBeInTheDocument();
     });
   });
   ```

3. **Feature Flag Tests**:
   ```typescript
   describe('Dashboard Route', () => {
     it('renders Dashboard when feature enabled', () => {
       process.env.VITE_ELEVENLABS_AGENT_ENABLED = 'true';
       render(<App />);
       // Navigate to dashboard
       expect(screen.getByTestId('dashboard')).toBeInTheDocument();
     });
     
     it('hides Dashboard route when feature disabled', () => {
       process.env.VITE_ELEVENLABS_AGENT_ENABLED = 'false';
       render(<App />);
       // Verify dashboard route not accessible
     });
   });
   ```

### Layout Tests
4. **Responsive Layout Tests**:
   ```typescript
   describe('Responsive Layout', () => {
     it('uses grid layout on desktop viewport', () => {
       // Test with desktop viewport width
     });
     
     it('uses flex column layout on mobile viewport', () => {
       // Test with mobile viewport width
     });
   });
   ```

## Inherent Risks

### High Risk
1. **Layout Breakage**:
   - **Risk**: Dashboard layout breaks existing views or causes regressions
   - **Mitigation**: Careful CSS isolation, test existing views, visual QA

2. **Responsive Design Issues**:
   - **Risk**: Layout doesn't work correctly on mobile or different screen sizes
   - **Mitigation**: Test on multiple viewport sizes, use CSS Grid/Flexbox properly, mobile-first approach

### Medium Risk
3. **Component Integration**:
   - **Risk**: Panel components don't integrate well with existing views
   - **Mitigation**: Design components as wrappers, maintain existing view functionality, progressive enhancement

4. **Performance Issues**:
   - **Risk**: Dashboard layout causes performance problems
   - **Mitigation**: Optimize CSS, use efficient layout methods, performance testing

5. **Feature Flag Logic**:
   - **Risk**: Dashboard route accessible when it shouldn't be
   - **Mitigation**: Proper feature flag checks, tests verify flag behavior

### Low Risk
6. **Styling Inconsistencies**:
   - **Risk**: Dashboard doesn't match design system
   - **Mitigation**: Use design system components, follow style guide, visual QA

7. **Accessibility Issues**:
   - **Risk**: Dashboard layout not accessible
   - **Mitigation**: Semantic HTML, ARIA labels, keyboard navigation, screen reader testing


