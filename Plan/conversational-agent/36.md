# Integrate Repository File Browser into Note-Taking Detail View

## Scope
`jarek-va-ui`.

## Subtasks
- Add the `RepositoryFileBrowser` component to the existing `ConversationDetails` (note-taking) view.
- Ensure layout remains readable when conversations are long.
- Provide clear labeling (e.g., "Repository Structure (read-only)").

## Desired Outcomes

### Primary Outcomes
1. **Integrated File Browser**: File browser visible in note-taking detail view, providing context about repository structure.

2. **Layout Preservation**: Integration doesn't break existing layout or make conversations hard to read.

3. **Clear Labeling**: Users understand the file browser is read-only and shows repository structure.

4. **Responsive Design**: File browser works well on all screen sizes within the conversation view.

### Success Criteria
- File browser integrated into note-taking view
- Layout remains readable
- Clear read-only labeling
- Responsive on all screen sizes
- No UX regressions
- Tests cover integration
- Performance acceptable

## User Stories

### As a User
- **Story 1**: I want to see repository structure in note-taking view so that I understand the codebase context.
- **Story 2**: I want the layout to remain readable so that I can see both conversations and file structure.

### As a Developer
- **Story 3**: I want integrated file browser so that users have context without switching views.

## Suggested Automated Tests

### Component Tests
1. **Integration Tests**:
   ```typescript
   describe('File Browser Integration', () => {
     it('renders file browser in note-taking view', () => {
       render(<ConversationDetails conversation={mockConv} />);
       expect(screen.getByText(/repository structure/i)).toBeInTheDocument();
     });
   });
   ```

2. **Layout Tests**:
   ```typescript
   describe('Layout', () => {
     it('maintains readable layout with long conversations', () => {
       // Test with many messages
     });
   });
   ```

## Inherent Risks

### Medium Risk
1. **Layout Breakage**:
   - **Risk**: File browser breaks existing layout
   - **Mitigation**: Careful integration, responsive design, testing, visual QA

2. **Performance Issues**:
   - **Risk**: File browser slows down conversation view
   - **Mitigation**: Lazy loading, virtualization, performance testing

### Low Risk
3. **Visual Clutter**:
   - **Risk**: Too much information on screen
   - **Mitigation**: Collapsible sections, clear hierarchy, user testing
