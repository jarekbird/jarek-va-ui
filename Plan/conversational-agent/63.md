# Step 63: Update Documentation

**Phase**: Phase 4 â€“ Polish, Error Handling, Testing, Documentation

## Description

Update documentation:
- In `jarek-va-ui` README, document:
  - How to enable `VITE_ELEVENLABS_AGENT_ENABLED`.
  - How to configure `VITE_ELEVENLABS_AGENT_URL` and IDs.
  - Any required ElevenLabs dashboard settings (webhook URL, tools).
- In `elevenlabs-agent` README, document:
  - Env vars.
  - Redis usage.
  - Endpoint overview and expected payloads.

## Detailed Desired Outcomes

### jarek-va-ui README Updates

**Feature Flag:**
- How to enable: Set `VITE_ELEVENLABS_AGENT_ENABLED=true` in `.env`
- How to disable: Set to `false` or omit
- Requires rebuild after change

**Configuration:**
- `VITE_ELEVENLABS_AGENT_ID`: ElevenLabs agent ID
- `VITE_ELEVENLABS_AGENT_PUBLIC`: 'true' if public agent, 'false' if private
- `VITE_ELEVENLABS_AGENT_URL`: Base URL for elevenlabs-agent service
- Default values for development
- Production configuration

**ElevenLabs Dashboard:**
- Webhook URL configuration: `https://your-domain.com/agent-tools`
- Webhook secret: Must match `WEBHOOK_SECRET` in backend
- Tool configuration: Which tools agent can call
- Agent settings: Voice, system prompt, etc.

### elevenlabs-agent README

**Environment Variables:**
- Required: `ELEVENLABS_API_KEY`, `ELEVENLABS_AGENT_ID`, `WEBHOOK_SECRET`, `REDIS_URL`, `CURSOR_RUNNER_URL`
- Optional: `PORT`, `ELEVENLABS_AGENT_ENABLED`, `LOG_LEVEL`
- Default values
- Production vs development

**Redis Usage:**
- Key patterns: `elevenlabs:session:{conversationId}`, `cursor_task:{taskId}`
- TTL values: Sessions (10 min), Tasks (24 hours)
- Purpose of each key pattern
- Cleanup procedures

**Endpoints:**
- `GET /health` - Health check
- `GET /signed-url` - Get signed URL for private agents
- `POST /agent-conversations/api/:id/session` - Register session
- `POST /agent-tools` - Webhook for tool calls
- `POST /callback` - Callback from cursor-runner
- Request/response formats
- Authentication requirements

## User Stories

**As a developer**, I want:
- Clear documentation on how to configure
- Examples of configuration
- Troubleshooting guidance

**As a DevOps engineer**, I want:
- Environment variable documentation
- Deployment instructions
- Operational procedures

**As a user**, I want:
- Easy setup instructions
- Clear configuration steps

## Suggested Automated Tests

### Documentation Tests

```typescript
// Documentation can be validated through:
// 1. Manual review
// 2. Documentation linting
// 3. Example validation

describe('Documentation', () => {
  it('should have all required sections', () => {
    const readme = fs.readFileSync('README.md', 'utf-8');
    expect(readme).toContain('Environment Variables');
    expect(readme).toContain('Configuration');
    expect(readme).toContain('Endpoints');
  });

  it('should have valid code examples', () => {
    // Validate code examples are syntactically correct
  });
});
```

## Risks

### Low Risk
- **Outdated documentation**: Docs might become outdated
  - **Mitigation**: Keep docs updated, review regularly
  - **Detection**: Documentation review, user questions

- **Missing information**: Some details might be missing
  - **Mitigation**: Comprehensive documentation, examples
  - **Detection**: User questions, setup issues

### Medium Risk
- **Unclear instructions**: Instructions might not be clear
  - **Mitigation**: Clear language, examples, screenshots
  - **Detection**: User feedback, setup issues

### High Risk
- **None identified** - Documentation with low risk

## Implementation Notes

- Update jarek-va-ui README with frontend config
- Document environment variables
- Document ElevenLabs dashboard setup
- Update elevenlabs-agent README
- Document all environment variables
- Document Redis key patterns
- Document API endpoints and payloads
- Add examples where helpful
- Include troubleshooting section
- Add setup instructions
- Review for clarity and completeness
